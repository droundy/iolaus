# Copyright 2010 David Roundy, roundyd@physics.oregonstate.edu.
# All rights reserved.

ifneq ($(strip $(shell which gotmake)),)
all: Makefile binaries web

Makefile: scripts/make.header scripts/mkmake $(wildcard */*/.go) $(wildcard */*.go)
	./scripts/mkmake
else
all: binaries web
endif

test: all
	./scripts/harness

install: installbins installpkgs

web: doc/index.html

doc/index.html: README.md scripts/mkdown
	./scripts/mkdown -o doc/index.html README.md
